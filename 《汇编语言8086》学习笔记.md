# 《汇编语言8086》学习笔记
## 第1章 基础知识
- 汇编语言由3类指令组成：
	- 汇编指令
	- 伪指令
	- 其他符号

## 第2章 寄存器
- 在进行数据传送或运算时，指令的两个操作对象的位数应当是一致的
- 基础地址 + 偏移地址 =  物理地址
- mov指令不能用于设置CS、IP的值

## 第3章 寄存器（内存访问）
- 字单元：存放一个字型数据的内存单元，由两个地址连续的内存单元组成
	- 将起始地址为N的字单元称为N地址字单元
- 8086CPU不支持将数据直接送入段寄存器的操作
- 8086CPU的入栈和出栈操作都是以字为单位进行的
- PUSH和POP可以在内存和内存之间传送数据

## 第4章 第1个程序
- 段结束：ends（通知编译器一个段结束）
- 程序结束：end（通知编译器程序结束，还可以通知编译器程序的入口地址）
- 程序返回

## 第5章 [BX]和loop指令
- 完整描述一个内存单元，需要两种信息：
	- 内存单元的地址
	- 内存单元的长度（字节or字）
- 在汇编源程序中， 数据不能以字母开头

## 第6章 包含多个段的程序
- dw:define word 定义字型数据或开辟内存空间

## 第7章 更灵活的定位内存地址的方法
- 立即数寻址
- 寄存器寻址
- 操作数为存储器操作数的寻址方式：
	- 直接寻址
	- 寄存器间接寻址：[BX][BP][SI][DI]
	- 寄存器相对寻址：
		- 基址寻址：[BX+idata][BP+idata]
		- 变址寻址：[SI+idata][DI+idata]
	- 基址变址寻址：[BX+SI][BX+DI]
	- 相对基址变址寻址：[BX+SI+idata][BX+DI+idata]
- 一般来说，在需要暂存数据的时候，都应该使用栈

## 第8章 数据处理的两个基本问题
- 在没有寄存器名存在的情况下，用操作符byte ptr或 word ptr指明内存长度
- dd：double word 定义双字型数据
- dup 定义重复数据的指令

## 第9章 转移指令的原理
- offset：取得标号的偏移地址
- 段内转移：只修改IP
	- 短转移：-128~127
		- jmp short 标号
	- 近转移：-32768~32767
		- near ptr 标号
- 段间转移：同时修改CS和IP
	- jmp far ptr 标号
- 转移地址在内存中的jmp指令
	- jmp word ptr 内存单元地址（段内转移）
	- jmp dword ptr 内存单元地址（段间转移）
- 有条件转移指令：jcxz
	- 所有的条件转移指令都是短转移
- 循环指令：loop
	- 所有的循环指令都是短转移

## 第10章 CALL和RET 指令
- ret：用栈中的数据，修改IP的内容，实现近转移
- retf：用栈中的数据，修改CS和IP的内容，实现远转移
- call指令不能实现短转移
- 转移的目的地址在CALL指令中
	- call far ptr 标号 ：段间转移
- 转称地址在寄存器中
	- call 16位reg
- 转移地址在内存中的CALL指令
	- call word ptr 内存单元地址
	- call dword ptr 内存单元地址

## 第11章 标志寄存器

## 第12章 内中断

## 第13章 int指令

## 常用寄存器
- 通用寄存器：8个
	- 数据寄存器
		- AX：AH、AL
		- BX：BH、BL
		- CX：CH、CL：
			- 只能用作源操作数，不能用作目的操作数。
			- 存放循环次数
			- CL被固定用作移位次数
		- DX：DH、DL
	- 指针寄存器
		- SP：栈指针寄存器：在堆栈操作时，被隐含使用，被用来指向堆栈顶部单元
		- BP：基址指针寄存器：被用于指向堆栈某一存储单元
	- 变址寄存器
		- SI：源变址寄存器
		- DI：目的变址寄存器
- 段寄存器：4个
	- CS：代码段寄存器
	- DS：数据段寄存器：通常用于存放要访问数据的段地址
	- SS：栈段寄存器：存放栈顶的段地址
	- ES：附加段寄存器
- 控制寄存器：2个
	- 指令指针寄存器
		- IP
	- 标志寄存器
		- FLAGS
			- 状态标志：
			- 控制标志：
			
## 常用汇编指令
- mov：传送指令
    - 立即数只能用作源操作数
    - 立即数不能直接传给段寄存器
    - 段寄存器之间不能直接传送
    - 存储单元之间不能直接传送
- add
- sub
- jmp
	- jmp 段地址：偏移地址	# 用指令中给出的段地址修改CS，偏移地址修改IP
	- jmp 某一合法寄存器 		# 用寄存器中的值修改IP
- push
- pop

# 《计算机组成原理》
## 操作数类型和操作类型
- 操作数类型
	- 地址
	- 数字
	- 字符
	- 逻辑数据
- 操作类型
	- 数据传送
	- 算术逻辑操作
	- 移位
	- 转移：无条件转移、条件转移、跳转、过程调用与返回、陷阱等
	- 输入输出
	- 其他：等待指令、停机指令、空操作指令、开中断指令、关中断指令、置条件码指令
	- 有的计算机还设有非数据处理指令：如字符串传送、比较等
	- 在多用户多任务操作系统中，还设有特权指令
	- 在有些大型机中，还设有向量指令，对整个向量和矩阵进行求和、求积运算
	- 在多处理机系统中，还有专门的多处理机指令
		

## 寻址方式
- 指令：操作码字段 + 地址码字段
- 指令寻址
	- 顺序寻址
	- 跳跃寻址
- 数据寻址：形式地址A、有效地址EA
	- 立即寻址：形式地址是操作数本身，以补码形式存放
	- 直接寻址：形式地址是内存中存放操作数的物理地址或偏移地址
	- 隐含寻址
	- 间接寻址
	- 寄存器寻址
	- 寄存器间接寻址
	- 基址寻址
	- 相对寻址
	- 堆栈寻址